<!DOCTYPE html>
<html lang="en" dir="auto">

<head><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="index, follow">
<title>Setup password manager | Curiosity432 Blog</title>
<meta name="keywords" content="Computing, Productivity" />
<meta name="description" content="Setting up a password manager This is an article that explains how to set up a password manager in a secure and private way.
I don&rsquo;t recommend using web applications running on a server, because someone can intercept and decrypt your data and a cracker can use JS malfunctions.
These methods use local apps with an encrypted file, no data is shared over the internet. However, if you insist on using online web-apps you should use Bitwarden or Vaultwarden (self-hosted Bitwarden).">
<meta name="author" content="Curiosity432">
<link rel="canonical" href="https://curiosity432.xyz/posts/setup-password-manager/" />
<link crossorigin="anonymous" href="/assets/css/stylesheet.min.c88963fe2d79462000fd0fb1b3737783c32855d340583e4523343f8735c787f0.css" integrity="sha256-yIlj/i15RiAA/Q&#43;xs3N3g8MoVdNAWD5FIzQ/hzXHh/A=" rel="preload stylesheet" as="style">
<link rel="preload" href="/apple-touch-icon.png" as="image">
<script defer crossorigin="anonymous" src="/assets/js/highlight.min.b95bacdc39e37a332a9f883b1e78be4abc1fdca2bc1f2641f55e3cd3dabd4d61.js" integrity="sha256-uVus3DnjejMqn4g7Hni&#43;Srwf3KK8HyZB9V4809q9TWE="
    onload="hljs.initHighlightingOnLoad();"></script>
<link rel="icon" href="https://curiosity432.xyz/favicon.ico">
<link rel="icon" type="image/png" sizes="16x16" href="https://curiosity432.xyz/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="https://curiosity432.xyz/favicon-32x32.png">
<link rel="apple-touch-icon" href="https://curiosity432.xyz/apple-touch-icon.png">
<link rel="mask-icon" href="https://curiosity432.xyz/safari-pinned-tab.svg">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<meta name="generator" content="Hugo 0.112.3">
<link rel="alternate" hreflang="es" href="https://curiosity432.xyz/es/posts/setup-password-manager/" />
<link rel="alternate" hreflang="en" href="https://curiosity432.xyz/posts/setup-password-manager/" />
<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
</noscript><meta property="og:title" content="Setup password manager" />
<meta property="og:description" content="Setting up a password manager This is an article that explains how to set up a password manager in a secure and private way.
I don&rsquo;t recommend using web applications running on a server, because someone can intercept and decrypt your data and a cracker can use JS malfunctions.
These methods use local apps with an encrypted file, no data is shared over the internet. However, if you insist on using online web-apps you should use Bitwarden or Vaultwarden (self-hosted Bitwarden)." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://curiosity432.xyz/posts/setup-password-manager/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-06-11T00:00:00&#43;00:00" />
<meta property="article:modified_time" content="2023-06-11T00:00:00&#43;00:00" />

<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Setup password manager"/>
<meta name="twitter:description" content="Setting up a password manager This is an article that explains how to set up a password manager in a secure and private way.
I don&rsquo;t recommend using web applications running on a server, because someone can intercept and decrypt your data and a cracker can use JS malfunctions.
These methods use local apps with an encrypted file, no data is shared over the internet. However, if you insist on using online web-apps you should use Bitwarden or Vaultwarden (self-hosted Bitwarden)."/>


<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [
    {
      "@type": "ListItem",
      "position":  1 ,
      "name": "Posts",
      "item": "https://curiosity432.xyz/posts/"
    }, 
    {
      "@type": "ListItem",
      "position":  2 ,
      "name": "Setup password manager",
      "item": "https://curiosity432.xyz/posts/setup-password-manager/"
    }
  ]
}
</script>
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "Setup password manager",
  "name": "Setup password manager",
  "description": "Setting up a password manager This is an article that explains how to set up a password manager in a secure and private way.\nI don\u0026rsquo;t recommend using web applications running on a server, because someone can intercept and decrypt your data and a cracker can use JS malfunctions.\nThese methods use local apps with an encrypted file, no data is shared over the internet. However, if you insist on using online web-apps you should use Bitwarden or Vaultwarden (self-hosted Bitwarden).",
  "keywords": [
    "Computing", "Productivity"
  ],
  "articleBody": "Setting up a password manager This is an article that explains how to set up a password manager in a secure and private way.\nI don’t recommend using web applications running on a server, because someone can intercept and decrypt your data and a cracker can use JS malfunctions.\nThese methods use local apps with an encrypted file, no data is shared over the internet. However, if you insist on using online web-apps you should use Bitwarden or Vaultwarden (self-hosted Bitwarden).\nThere are two ways to encrypt and organize your passwords in a single file:\n1. Use an encrypted spreadsheet file Use a spreadsheet with these file formats:\nODS (Open Document Spreadsheet), compatible with Libre Office, Collabora Office, Only Office, Open Office XLS (Microsoft Excel Spreadsheet), compatible with Microsoft Office Excel, WPS Spreadsheet XLS or ODS allows you to save your password and accounts as a spreadsheet in an encrypted file with a chosen password.\nTo do this, you need to install an Office suite, open the spreadsheet application and “Save as” with password.\nIn Libre Office Calc: “File -\u003e Save As (Ctrl+Shift+S) and select “Save with password”. For Microsoft Excel, it is very similar to XLS, but safer.\nI recommend using Libre Office Calc, which is part of the Libre Office suite, because it is FOSS (free open source) and works on Windows, MacOS, Linux; and to open the file on the phone, just use Collabora Office. If you want to use XLS, you can use MS Excel (from MS Office) or the free alternatives such as WPS.\nPros. An encrypted file in the local drive You can only enter the beginning and end of the password, it is in clear text. You can organize it in your own way. Columns: email, category, company, username, password, notes Rows: like the values. Disadvantages. There is no option to generate the password automatically The file can be cracked with several attempts and depends on the strength of the password. No option to hide the password No synchronisation 2. Use KeePass file (kdbx) KeePass is a free open source password manager for Windows, where you can store usernames, passwords, other fields, free-form notes and file attachments in an encrypted file.\nIt is similar to the previous version but the software is designed to save account information (user, passwords, mail, etc) instead of a table in a speradsheet.\nFor Windows just download from the official page: https://keepass.info/download.html\nFor Unix desktop you need to install the dependencies: libgdiplus and mono framework\nFor ArchLinux: https://archlinux.org/packages/extra/any/keepass/ For Debian: https://packages.debian.org/bullseye/keepass2 For Fedora: https://packages.fedoraproject.org/pkgs/keepass/keepass/ For Gentoo: https://packages.gentoo.org/packages/app-admin/keepass For OpenSUSE: https://software.opensuse.org/package/keepass For FreeBSD: https://www.freshports.org/security/keepass/ Other KeePass compatible app Due to the great boom of KeePass there are compatible KeePass native apps.\nCross-platform:\nKeePassXC: https://keepassxc.org/ KeeWeb: https://github.com/keeweb/keeweb/releases/ For macOS:\nMacPAss: https://github.com/MacPass/MacPass/releases For mobile:\nFor Android: KeePassDX: https://www.keepassdx.com/ KeePass2Android: https://github.com/PhilippC/keepass2android/releases For iOS: KeePassium: https://keepassium.com StrongBox: https://strongboxsafe.com/ Pros.\nOne encrypted file in local You can put a fake password like initial and end of password (P…d) Classify by (folders, tags) with accounts data (username, password, mail, etc) Option to hide passwords Cons.\nThere is no option to autogenerate password The file can be cracked with multiple tries, and depends on the strength password. No option to hide password No sync Conclusion These are the simple methods I have found to manage your passwords in a secure and private way. I use an ODS encrypted file with Libre Office Calc on Arch Linux and Collabora Office on Android, but I will migrate the passwords to KeePassXC on Arch and KeePassDX on Android.\nIf you want to synchronize the encrypted file from different devices, you can do it manually via USB cable or over a network (intranet or internet), but I prefer not to share the data over a network.\nAnd one thing you need to remember is your master password, for that you can create a file (audio, image, text, video) that remembers you this password. In my case, I just use an encrypted logo that only I can understand.\nYou could also create your own encrypted language to store passwords, but that takes more effort. In the past, people encrypted things by drawing symbols and shapes that only educated people could understand.\n",
  "wordCount" : "700",
  "inLanguage": "en",
  "datePublished": "2023-06-11T00:00:00Z",
  "dateModified": "2023-06-11T00:00:00Z",
  "author":{
    "@type": "Person",
    "name": "Curiosity432"
  },
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "https://curiosity432.xyz/posts/setup-password-manager/"
  },
  "publisher": {
    "@type": "Organization",
    "name": "Curiosity432 Blog",
    "logo": {
      "@type": "ImageObject",
      "url": "https://curiosity432.xyz/favicon.ico"
    }
  }
}
</script>
</head>

<body class=" dark" id="top">
<script>
    if (localStorage.getItem("pref-theme") === "light") {
        document.body.classList.remove('dark')
    }

</script>

<header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="https://curiosity432.xyz/" accesskey="h" title="Curiosity432 Blog (Alt + H)">
                <img src="https://curiosity432.xyz/apple-touch-icon.png" alt="logo" aria-label="logo"
                    height="35">Curiosity432 Blog</a>
            <span class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
                <ul class="lang-switch"><li>|</li>
                    <li>
                        <a href="https://curiosity432.xyz/es/" title="Español"
                            aria-label="Español">Español</a>
                    </li>
                </ul>
            </span>
        </div>
        <ul id="menu">
            <li>
                <a href="https://curiosity432.xyz/archives/" title="Archives">
                    <span>Archives</span>
                </a>
            </li>
            <li>
                <a href="https://curiosity432.xyz/categories/" title="Categories">
                    <span>Categories</span>
                </a>
            </li>
            <li>
                <a href="https://curiosity432.xyz/search/" title="Search (Alt &#43; /)" accesskey=/>
                    <span>Search</span>
                </a>
            </li>
            <li>
                <a href="https://curiosity432.xyz/tags/" title="Tags">
                    <span>Tags</span>
                </a>
            </li>
            <li>
                <a href="https://curiosity432.xyz/about/" title="About">
                    <span>About</span>
                </a>
            </li>
        </ul>
    </nav>
</header>
<main class="main">

<article class="post-single">
  <header class="post-header">
    <div class="breadcrumbs"><a href="https://curiosity432.xyz/">Home</a>&nbsp;»&nbsp;<a href="https://curiosity432.xyz/posts/">Posts</a></div>
    <h1 class="post-title">
      Setup password manager
    </h1>
    <div class="post-meta"><span title='2023-06-11 00:00:00 +0000 UTC'>June 11, 2023</span>&nbsp;·&nbsp;4 min&nbsp;·&nbsp;Curiosity432&nbsp;|&nbsp;
<ul class="i18n_list">Translations:
    <li>
        <a href="https://curiosity432.xyz/es/posts/setup-password-manager/">Español</a>
    </li>
</ul>

</div>
  </header> <div class="toc">
    <details  open>
        <summary accesskey="c" title="(Alt + C)">
            <span class="details">Table of Contents</span>
        </summary>

        <div class="inner"><ul>
                <li>
                    <a href="#setting-up-a-password-manager" aria-label="Setting up a password manager">Setting up a password manager</a><ul>
                        
                <li>
                    <a href="#1-use-an-encrypted-spreadsheet-file" aria-label="1. Use an encrypted spreadsheet file">1. Use an encrypted spreadsheet file</a></li>
                <li>
                    <a href="#2-use-keepass-file-kdbx" aria-label="2. Use KeePass file (kdbx)">2. Use KeePass file (kdbx)</a><ul>
                        
                <li>
                    <a href="#other-keepass-compatible-app" aria-label="Other KeePass compatible app">Other KeePass compatible app</a></li></ul>
                </li>
                <li>
                    <a href="#conclusion" aria-label="Conclusion">Conclusion</a>
                </li>
            </ul>
            </li>
            </ul>
        </div>
    </details>
</div>

  <div class="post-content"><h1 id="setting-up-a-password-manager">Setting up a password manager<a hidden class="anchor" aria-hidden="true" href="#setting-up-a-password-manager">#</a></h1>
<p>This is an article that explains how to set up a password manager in a secure and private way.</p>
<p>I don&rsquo;t recommend using web applications running on a server, because someone can intercept and decrypt your data and a cracker can use JS malfunctions.</p>
<p>These methods use local apps with an encrypted file, no data is shared over the internet. However, if you insist on using online web-apps you should use <a href="https://bitwarden.com/">Bitwarden</a> or <a href="https://github.com/dani-garcia/vaultwarden">Vaultwarden</a> (self-hosted Bitwarden).</p>
<p>There are two ways to encrypt and organize your passwords in a single file:</p>
<h2 id="1-use-an-encrypted-spreadsheet-file">1. Use an encrypted spreadsheet file<a hidden class="anchor" aria-hidden="true" href="#1-use-an-encrypted-spreadsheet-file">#</a></h2>
<p>Use a spreadsheet with these file formats:</p>
<ul>
<li>ODS (Open Document Spreadsheet), compatible with Libre Office, Collabora Office, Only Office, Open Office</li>
<li>XLS (Microsoft Excel Spreadsheet), compatible with Microsoft Office Excel, WPS Spreadsheet</li>
</ul>
<p>XLS or ODS allows you to save your password and accounts as a spreadsheet in an encrypted file with a chosen password.</p>
<p>To do this, you need to install an Office suite, open the spreadsheet application and &ldquo;Save as&rdquo; with password.</p>
<blockquote>
<p>In Libre Office Calc: &ldquo;File -&gt; Save As (Ctrl+Shift+S) and select &ldquo;Save with password&rdquo;.
For Microsoft Excel, it is very similar to XLS, but safer.</p>
</blockquote>
<figure>
    <img loading="lazy" src="../../img/password-manager/libreoffice-calc-encrypted.png" width="520"/> 
</figure>

<p>I recommend using Libre Office Calc, which is part of the Libre Office suite, because it is FOSS (free open source) and works on Windows, MacOS, Linux; and to open the file on the phone, just use Collabora Office.
If you want to use XLS, you can use MS Excel (from MS Office) or the free alternatives such as WPS.</p>
<ul>
<li>Pros.
<ul>
<li>An encrypted file in the local drive</li>
<li>You can only enter the beginning and end of the password, it is in clear text.</li>
<li>You can organize it in your own way.
<ul>
<li>Columns: email, category, company, username, password, notes</li>
<li>Rows: like the values.</li>
</ul>
</li>
</ul>
</li>
<li>Disadvantages.
<ul>
<li>There is no option to generate the password automatically</li>
<li>The file can be cracked with several attempts and depends on the strength of the password.</li>
<li>No option to hide the password</li>
<li>No synchronisation</li>
</ul>
</li>
</ul>
<h2 id="2-use-keepass-file-kdbx">2. Use KeePass file (kdbx)<a hidden class="anchor" aria-hidden="true" href="#2-use-keepass-file-kdbx">#</a></h2>
<p><a href="https://keepass.info/">KeePass</a> is a free open source password manager for Windows, where you can store usernames, passwords, other fields, free-form notes and file attachments in an encrypted file.</p>
<p>It is similar to the previous version but the software is designed to save account information (user, passwords, mail, etc) instead of a table in a speradsheet.</p>
<p>For Windows just download from the official page: <a href="https://keepass.info/download.html">https://keepass.info/download.html</a></p>
<p>For Unix desktop you need to install the dependencies: libgdiplus and mono framework</p>
<ul>
<li>For ArchLinux: <a href="https://archlinux.org/packages/extra/any/keepass/">https://archlinux.org/packages/extra/any/keepass/</a></li>
<li>For Debian: <a href="https://packages.debian.org/bullseye/keepass2">https://packages.debian.org/bullseye/keepass2</a></li>
<li>For Fedora: <a href="https://packages.fedoraproject.org/pkgs/keepass/keepass/">https://packages.fedoraproject.org/pkgs/keepass/keepass/</a></li>
<li>For Gentoo: <a href="https://packages.gentoo.org/packages/app-admin/keepass">https://packages.gentoo.org/packages/app-admin/keepass</a></li>
<li>For OpenSUSE: <a href="https://software.opensuse.org/package/keepass">https://software.opensuse.org/package/keepass</a></li>
<li>For FreeBSD: <a href="https://www.freshports.org/security/keepass/">https://www.freshports.org/security/keepass/</a></li>
</ul>
<h3 id="other-keepass-compatible-app">Other KeePass compatible app<a hidden class="anchor" aria-hidden="true" href="#other-keepass-compatible-app">#</a></h3>
<p>Due to the great boom of KeePass there are compatible KeePass native apps.</p>
<ul>
<li>
<p>Cross-platform:</p>
<ul>
<li>KeePassXC: <a href="https://keepassxc.org/">https://keepassxc.org/</a></li>
<li>KeeWeb: <a href="https://github.com/keeweb/keeweb/releases/">https://github.com/keeweb/keeweb/releases/</a></li>
</ul>
</li>
<li>
<p>For macOS:</p>
<ul>
<li>MacPAss: <a href="https://github.com/MacPass/MacPass/releases">https://github.com/MacPass/MacPass/releases</a></li>
</ul>
</li>
<li>
<p>For mobile:</p>
<ul>
<li>For Android:
<ul>
<li>KeePassDX: <a href="https://www.keepassdx.com/">https://www.keepassdx.com/</a></li>
<li>KeePass2Android: <a href="https://github.com/PhilippC/keepass2android/releases">https://github.com/PhilippC/keepass2android/releases</a></li>
</ul>
</li>
<li>For iOS:
<ul>
<li>KeePassium: <a href="https://keepassium.com">https://keepassium.com</a></li>
<li>StrongBox: <a href="https://strongboxsafe.com/">https://strongboxsafe.com/</a></li>
</ul>
</li>
</ul>
</li>
<li>
<p>Pros.</p>
<ul>
<li>One encrypted file in local</li>
<li>You can put a fake password like initial and end of password (P&hellip;d)</li>
<li>Classify by (folders, tags) with accounts data (username, password, mail, etc)</li>
<li>Option to hide passwords</li>
</ul>
</li>
<li>
<p>Cons.</p>
<ul>
<li>There is no option to autogenerate password</li>
<li>The file can be cracked with multiple tries, and depends on the strength password.</li>
<li>No option to hide password</li>
<li>No sync</li>
</ul>
</li>
</ul>
<h2 id="conclusion">Conclusion<a hidden class="anchor" aria-hidden="true" href="#conclusion">#</a></h2>
<p>These are the simple methods I have found to manage your passwords in a secure and private way. I use an ODS encrypted file with Libre Office Calc on Arch Linux and Collabora Office on Android, but I will migrate the passwords to KeePassXC on Arch and KeePassDX on Android.</p>
<p>If you want to synchronize the encrypted file from different devices, you can do it manually via USB cable or over a network (intranet or internet), but I prefer not to share the data over a network.</p>
<p>And one thing you need to remember is your master password, for that you can create a file (audio, image, text, video) that remembers you this password. In my case, I just use an encrypted logo that only I can understand.</p>
<blockquote>
<p>You could also create your own encrypted language to store passwords, but that takes more effort.
In the past, people encrypted things by drawing symbols and shapes that only educated people could understand.</p>
</blockquote>


  </div>

  
  
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.min.css" integrity="sha384-AfEj0r4/OFrOo5t7NnNe46zW/tFgW6x/bCJG8FqQCEo3+Aro6EYUG4+cU+KJWu/X" crossorigin="anonymous">
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.min.js" integrity="sha384-g7c+Jr9ZivxKLnZTDUhnkOnsh30B4H0rpLUpJ4jAIKs4fnJI+sEnkvrMWph2EDg4" crossorigin="anonymous"></script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/contrib/auto-render.min.js" integrity="sha384-mll67QQFJfxn0IYznZYonOWZ644AWYC+Pt2cHqMaRhXVrursRwvLnLaebdGIlYNa" crossorigin="anonymous"
onload="renderMathInElement(document.body);"></script>




  

  <footer class="post-footer">
    <ul class="post-tags">
      <li><a href="https://curiosity432.xyz/tags/computing/">Computing</a></li>
      <li><a href="https://curiosity432.xyz/tags/productivity/">Productivity</a></li>
    </ul>
<nav class="paginav">
  <a class="next" href="https://curiosity432.xyz/posts/linux-desktop-distro/">
    <span class="title">Next Page »</span>
    <br>
    <span>Linux distros with/out desktops</span>
  </a>
</nav>

  </footer>
</article>
    </main>
    
<footer class="footer">
    <span>&copy; 2023 <a href="https://curiosity432.xyz/">Curiosity432 Blog</a></span>
    <span>
        Powered by
        <a href="https://gohugo.io/" rel="noopener noreferrer" target="_blank">Hugo</a> &
        <a href="https://github.com/adityatelange/hugo-PaperMod/" rel="noopener" target="_blank">PaperMod</a>
    </span>
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
        <path d="M12 6H0l6-6z" />
    </svg>
</a>

<script>
    let menu = document.getElementById('menu')
    if (menu) {
        menu.scrollLeft = localStorage.getItem("menu-scroll-position");
        menu.onscroll = function () {
            localStorage.setItem("menu-scroll-position", menu.scrollLeft);
        }
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });

</script>
<script>
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };

</script>
<script>
    document.getElementById("theme-toggle").addEventListener("click", () => {
        if (document.body.className.includes("dark")) {
            document.body.classList.remove('dark');
            localStorage.setItem("pref-theme", 'light');
        } else {
            document.body.classList.add('dark');
            localStorage.setItem("pref-theme", 'dark');
        }
    })

</script>
<script>
    document.querySelectorAll('pre > code').forEach((codeblock) => {
        const container = codeblock.parentNode.parentNode;

        const copybutton = document.createElement('button');
        copybutton.classList.add('copy-code');
        copybutton.innerText = 'copy';

        function copyingDone() {
            copybutton.innerText = 'copied!';
            setTimeout(() => {
                copybutton.innerText = 'copy';
            }, 2000);
        }

        copybutton.addEventListener('click', (cb) => {
            if ('clipboard' in navigator) {
                navigator.clipboard.writeText(codeblock.textContent);
                copyingDone();
                return;
            }

            const range = document.createRange();
            range.selectNodeContents(codeblock);
            const selection = window.getSelection();
            selection.removeAllRanges();
            selection.addRange(range);
            try {
                document.execCommand('copy');
                copyingDone();
            } catch (e) { };
            selection.removeRange(range);
        });

        if (container.classList.contains("highlight")) {
            container.appendChild(copybutton);
        } else if (container.parentNode.firstChild == container) {
            
        } else if (codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName == "TABLE") {
            
            codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(copybutton);
        } else {
            
            codeblock.parentNode.appendChild(copybutton);
        }
    });
</script>
</body>

</html>
